(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{49:function(e,t,r){},50:function(e,t,r){},57:function(e,t,r){},59:function(e,t,r){},60:function(e,t,r){},61:function(e,t,r){},62:function(e,t,r){},64:function(e,t,r){},65:function(e,t,r){},66:function(e,t,r){},85:function(e,t,r){"use strict";r.r(t);var n=r(1),a=r(21),c=r.n(a),s=(r(49),r(18)),i=(r(50),r(16)),u=r(7),o=r(17),l=r(4),j=r(29),d=[{Header:"Name",Footer:"Name",accessor:"name",disableFilters:!0,sticky:"left"},{Header:"Email",Footer:"Email",accessor:"email"},{Header:"Age",Footer:"Age",accessor:"age"}],b=(r(57),r(2)),O=function(e){var t=e.users,r=Object(n.useMemo)((function(){return d}),[]),a=Object(n.useMemo)((function(){return t}),[t]),c=Object(j.useTable)({columns:r,data:a},j.useSortBy),s=c.getTableProps,i=c.getTableBodyProps,u=c.headerGroups,o=c.footerGroups,O=c.rows,p=c.prepareRow;return Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("table",Object(l.a)(Object(l.a)({},s()),{},{children:[Object(b.jsx)("thead",{children:u.map((function(e){return Object(b.jsx)("tr",Object(l.a)(Object(l.a)({},e.getHeaderGroupProps()),{},{children:e.headers.map((function(e){return Object(b.jsxs)("th",Object(l.a)(Object(l.a)({},e.getHeaderProps(e.getSortByToggleProps())),{},{children:[e.render("Header"),Object(b.jsx)("span",{children:e.isSorted?(e.isSortedDesc,""):""})]}))}))}))}))}),Object(b.jsx)("tbody",Object(l.a)(Object(l.a)({},i()),{},{children:O.map((function(e){return p(e),Object(b.jsx)("tr",Object(l.a)(Object(l.a)({},e.getRowProps()),{},{children:e.cells.map((function(e){return Object(b.jsx)("td",Object(l.a)(Object(l.a)({},e.getCellProps()),{},{children:e.render("Cell")}))}))}))}))})),Object(b.jsx)("tfoot",{children:o.map((function(e){return Object(b.jsx)("tr",Object(l.a)(Object(l.a)({},e.getFooterGroupProps()),{},{children:e.headers.map((function(e){return Object(b.jsx)("td",Object(l.a)(Object(l.a)({},e.getFooterProps()),{},{children:e.render("Footer")}))}))}))}))})]}))})},p="GET_USERS_REQUESTED",h="GET_USERS_SUCCESS",v="GET_USERS_FAILED",f="SET_NEW_USER",m="ADD_USER_SUCCESS",x="ADD_USER_FAILED";r(59);var g=function(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.users.users})),r=Object(o.c)((function(e){return e.users.loading}));return Object(n.useEffect)((function(){e({type:p})}),[e]),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("p",{children:"-- Click on the column names to sort --"}),r&&Object(b.jsx)("p",{children:"Loading..."}),t.users&&Object(b.jsx)(O,{users:t.users}),0===t.length&&!r&&Object(b.jsx)("p",{children:"No users available!"})]})},E=r(24),S=r(43),y="REQUIRE",_="MINLENGTH",T="MAXLENGTH",k="EMAIL",N=function(){return{type:y}},w=function(e){return{type:T,val:e}},C=function(){return{type:k}},U=function(e,t){var r,n=!0,a=Object(S.a)(t);try{for(a.s();!(r=a.n()).done;){var c=r.value;c.type===y&&(n=n&&e.trim().length>0),c.type===_&&(n=n&&e.trim().length>=c.val),c.type===T&&(n=n&&e.trim().length<=c.val),"MIN"===c.type&&(n=n&&+e>=c.val),"MAX"===c.type&&(n=n&&+e<=c.val),c.type===k&&(n=n&&/^\S+@\S+\.\S+$/.test(e))}}catch(s){a.e(s)}finally{a.f()}return n},R=(r(60),function(e,t){switch(t.type){case"CHANGE":return Object(l.a)(Object(l.a)({},e),{},{value:t.val,isValid:U(t.val,t.validators)});case"TOUCH":return Object(l.a)(Object(l.a)({},e),{},{isTouched:!0});default:return e}}),A=function(e){var t=Object(n.useReducer)(R,{value:"",isTouched:!1,isValid:!1}),r=Object(s.a)(t,2),a=r[0],c=r[1],i=e.id,u=e.onInput,o=a.value,l=a.isValid;Object(n.useEffect)((function(){u(i,o,l)}),[i,o,l,u]);return Object(b.jsxs)("div",{className:"form-control ".concat(!a.isValid&&a.isTouched&&"form-control--invalid"),children:[Object(b.jsx)("label",{htmlFor:e.id,children:e.label}),Object(b.jsx)("input",{id:e.id,type:e.type,placeholder:e.placeholder,onChange:function(t){c({type:"CHANGE",val:t.target.value,validators:e.validators})},onBlur:function(){c({type:"TOUCH"})},value:a.value}),!a.isValid&&a.isTouched&&Object(b.jsx)("p",{children:e.errorText})]})},D=(r(61),function(e){return Object(b.jsx)("button",{className:"button",type:e.type,onClick:e.onClick,disabled:e.disabled,children:e.children})}),I=(r(62),function(e,t){switch(t.type){case"INPUT_CHANGE":var r=!0;for(var n in e.inputs)r=n===t.inputId?r&&t.isValid:r&&e.inputs[n].isValid;return Object(l.a)(Object(l.a)({},e),{},{inputs:Object(l.a)(Object(l.a)({},e.inputs),{},Object(E.a)({},t.inputId,{value:t.value,isValid:t.isValid})),isValid:r});default:return e}}),F=function(){var e,t=Object(o.b)(),r=Object(u.f)(),a=Object(n.useState)(""),c=Object(s.a)(a,2),i=c[0],l=c[1],j=Object(o.c)((function(e){return e.users.users})),d=Object(n.useReducer)(I,{inputs:{name:{value:"",isValid:!1},email:{value:"",isValid:!1},age:{value:"",isValid:!1}},isValid:!1}),O=Object(s.a)(d,2),p=O[0],h=O[1],v=Object(n.useCallback)((function(e,t,r){h({type:"INPUT_CHANGE",value:t,isValid:r,inputId:e})}),[h]);return Object(b.jsx)("div",{className:"registration-container",children:Object(b.jsxs)("form",{className:"form",onSubmit:function(e){e.preventDefault();var n,a=void 0,c=void 0;j.users&&(a=j.users.find((function(e){return e.email===p.inputs.email.value}))),j.users&&(c=j.users.find((function(e){return e.name===p.inputs.name.value}))),a||c||(t((n=p.inputs,{type:f,payload:n})),l(""),r.push("/users")),a&&l("The email already exists."),c&&l("The name already exists.")},children:[Object(b.jsx)("h2",{children:"Registration Screen"}),Object(b.jsx)(A,{id:"name",type:"text",label:"Name",validators:[(e=2,{type:_,val:e}),w(10)],errorText:"Please enter a valid name",onInput:v}),Object(b.jsx)(A,{id:"email",type:"email",label:"Email",validators:[N(),C],errorText:"Please enter a valid email",onInput:v}),Object(b.jsx)(A,{id:"age",type:"number",label:"Age",validators:[N()],errorText:"Please enter a valid age",onInput:v}),Object(b.jsx)(D,{type:"submit",disabled:!p.isValid,children:"ADD USER"}),Object(b.jsx)("h3",{className:"message",children:i})]})})},G=(r(64),function(e){var t=e.click;return Object(b.jsxs)("nav",{className:"navbar",children:[Object(b.jsx)("div",{className:"navbar__logo",children:Object(b.jsx)("h2",{children:"Maccabi"})}),Object(b.jsxs)("ul",{className:"navbar__links",children:[Object(b.jsx)("li",{children:Object(b.jsx)(i.c,{to:"/users",className:"users__link",activeClassName:"active",children:"Users Screen"})}),Object(b.jsx)("li",{children:Object(b.jsx)(i.c,{to:"/",className:"users__link",activeClassName:"active",exact:!0,children:"Registration Screen"})})]}),Object(b.jsxs)("div",{className:"hamburger__menu",onClick:t,children:[Object(b.jsx)("div",{}),Object(b.jsx)("div",{}),Object(b.jsx)("div",{})]})]})}),P=(r(65),function(e){var t=e.show,r=e.click;return t&&Object(b.jsx)("div",{className:"backdrop",onClick:r})}),V=(r(66),function(e){var t=e.show,r=e.click,n=["sidedrawer"];return t&&n.push("show"),Object(b.jsx)("div",{className:n.join(" "),children:Object(b.jsxs)("ul",{className:"sidedrawer__links",onClick:r,children:[Object(b.jsx)("li",{children:Object(b.jsx)(i.b,{to:"/users",children:"Users Screen"})}),Object(b.jsx)("li",{children:Object(b.jsx)(i.b,{to:"/",children:"Registration Screen"})})]})})}),H=function(){var e=Object(n.useState)(!1),t=Object(s.a)(e,2),r=t[0],a=t[1];return Object(b.jsxs)(i.a,{children:[Object(b.jsx)(G,{click:function(){return a(!0)}}),Object(b.jsx)(V,{show:r,click:function(){return a(!1)}}),Object(b.jsx)(P,{show:r,click:function(){return a(!1)}}),Object(b.jsx)("main",{children:Object(b.jsxs)(u.c,{children:[Object(b.jsx)(u.a,{exact:!0,path:"/",component:F}),Object(b.jsx)(u.a,{exact:!0,path:"/users",component:g})]})})]})},L=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,86)).then((function(t){var r=t.getCLS,n=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;r(e),n(e),a(e),c(e),s(e)}))},M=r(15),B={users:[],loading:!1,error:void 0};var Q=Object(M.c)({users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:return Object(l.a)(Object(l.a)({},e),{},{loading:!0});case h:return Object(l.a)(Object(l.a)({},e),{},{loading:!1,users:t.users,error:t.message});case v:return Object(l.a)(Object(l.a)({},e),{},{loading:!1,error:t.message});case f:return Object(l.a)(Object(l.a)({},e),{},{loading:!0,error:t.message});case m:case x:return Object(l.a)(Object(l.a)({},e),{},{loading:!1,error:t.message});default:return e}}}),q=r(44),J=r(10),W=r.n(J),X=r(14),$=r(32),z=r.n($),K=W.a.mark(ne),Y=W.a.mark(ae),Z=W.a.mark(ce),ee=W.a.mark(se);function te(){return z.a.request({method:"GET",url:"https://maccabi-backend.herokuapp.com/api/users"})}function re(e){return z.a.request({method:"POST",url:"https://maccabi-backend.herokuapp.com/api/users/addUser",data:e})}function ne(){var e;return W.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(X.b)(te);case 3:return e=t.sent,t.next=6,Object(X.c)({type:"GET_USERS_SUCCESS",users:e.data});case 6:t.next=12;break;case 8:return t.prev=8,t.t0=t.catch(0),t.next=12,Object(X.c)({type:"GET_USERS_FAILED",message:t.t0});case 12:case"end":return t.stop()}}),K,null,[[0,8]])}function ae(e){var t;return W.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t={name:e.payload.name.value,email:e.payload.email.value,age:e.payload.age.value},r.prev=1,r.next=4,Object(X.b)(re,t);case 4:return r.next=6,Object(X.c)({type:"ADD_USER_SUCCESS",payload:t});case 6:r.next=12;break;case 8:return r.prev=8,r.t0=r.catch(1),r.next=12,Object(X.c)({type:"ADD_USER_FAILED",message:r.t0});case 12:case"end":return r.stop()}}),Y,null,[[1,8]])}function ce(){return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(X.d)("GET_USERS_REQUESTED",ne);case 2:case"end":return e.stop()}}),Z)}function se(){return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(X.d)("SET_NEW_USER",ae);case 2:case"end":return e.stop()}}),ee)}var ie=W.a.mark(ue);function ue(){return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(X.a)([ce(),se()]);case 2:case"end":return e.stop()}}),ie)}var oe=Object(q.a)(),le=Object(M.d)(Object(M.a)(oe),window.devToolsExtension&&window.devToolsExtension())(M.e)(Q);oe.run(ue);var je=le;c.a.render(Object(b.jsx)(o.a,{store:je,children:Object(b.jsx)(H,{})}),document.getElementById("root")),L()}},[[85,1,2]]]);
//# sourceMappingURL=main.4e9c2923.chunk.js.map